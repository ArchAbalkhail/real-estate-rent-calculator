# حاسبة الإيجار العقاري - نسخة مبسطة (3 ملفات)

## 📋 الوصف

نسخة مبسطة من حاسبة الإيجار العقاري تتكون من 3 ملفات فقط:
- **index.html** - واجهة المستخدم الكاملة
- **calculator.js** - حسابات JavaScript التفاعلية
- **calculator.py** - حسابات Python المتقدمة

## 🎯 الميزات

### ✅ **واجهة المستخدم (HTML)**
- تصميم أنيق ومتجاوب مع CSS مدمج
- مدخلات منظمة في بطاقات
- نتائج فورية مع الأرقام العربية
- مزلاج تفاعلي لقيمة التأجير
- جدول التدفقات النقدية التفصيلي

### ✅ **الحسابات التفاعلية (JavaScript)**
- حساب صافي القيمة الحالية (NPV)
- خوارزمية البحث الثنائي للإيجار الأمثل
- تحويل تلقائي للأرقام العربية
- تحديث فوري عند تغيير المدخلات
- مزلاج تفاعلي لتجربة قيم مختلفة

### ✅ **التحليل المتقدم (Python)**
- حسابات مالية دقيقة مع NumPy
- حساب معدل العائد الداخلي (IRR)
- تحليل الحساسية للمعاملات
- تصدير النتائج إلى JSON
- فئات منظمة للبيانات

## 📊 النتائج المحسوبة

### **من اختبار Python:**
- 💰 **الإيجار السنوي الأمثل**: 99,999,237 ريال
- 📊 **صافي القيمة الحالية**: 876,376,638 ريال  
- ⏱️ **فترة الاسترداد**: 3.2 سنة
- 📈 **معدل العائد الداخلي**: 48.94%
- 💵 **إجمالي العوائد**: 2,054,284,327 ريال

### **من واجهة HTML:**
- ✅ تعمل جميع الحسابات بشكل صحيح
- ✅ الأرقام العربية تظهر بشكل مثالي
- ✅ المزلاج التفاعلي يعمل
- ✅ جدول التدفقات النقدية مكتمل

## 🔧 كيفية الاستخدام

### **1. تشغيل واجهة الويب:**
```bash
# فتح الملف في المتصفح
open index.html
# أو
firefox index.html
```

### **2. تشغيل التحليل المتقدم:**
```bash
# تشغيل ملف Python
python3 calculator.py

# أو مع numpy إذا كان متوفراً
pip3 install numpy
python3 calculator.py
```

## 📁 محتويات الملفات

### **index.html (الملف الرئيسي)**
- واجهة مستخدم كاملة مع CSS مدمج
- 9 مدخلات أساسية للحسابات
- عرض النتائج في بطاقات منظمة
- مزلاج تفاعلي لقيمة التأجير
- جدول التدفقات النقدية لجميع السنوات

### **calculator.js (الحسابات التفاعلية)**
- دوال تحويل الأرقام للعربية
- حساب NPV والتدفقات النقدية
- خوارزمية البحث الثنائي
- تحديث فوري للنتائج
- إدارة المزلاج التفاعلي

### **calculator.py (التحليل المتقدم)**
- فئات منظمة للبيانات (dataclasses)
- حسابات مالية دقيقة
- حساب معدل العائد الداخلي
- تحليل الحساسية
- تصدير JSON

## 🎨 التصميم

- **ألوان متدرجة**: أزرق إلى بنفسجي
- **تخطيط شبكي**: عمودين متجاوبين
- **بطاقات أنيقة**: مع ظلال وحدود ملونة
- **أرقام عربية**: ٠١٢٣٤٥٦٧٨٩
- **تصميم متجاوب**: يعمل على الهاتف والحاسوب

## 📈 الخوارزميات المستخدمة

### **البحث الثنائي (Binary Search)**
```javascript
// البحث عن أعلى إيجار مربح
while (high - low > 1000) {
    const mid = Math.floor((low + high) / 2);
    const { npv } = calculateNPV(mid, inputs);
    if (npv >= 0) {
        optimalRent = mid;
        low = mid;
    } else {
        high = mid;
    }
}
```

### **حساب NPV**
```javascript
// صافي القيمة الحالية
npv = -totalDevelopmentCost + Σ(cashFlow / (1 + rate)^year)
```

### **معدل العائد الداخلي (IRR)**
```python
# طريقة نيوتن-رافسون
new_guess = irr_guess - npv / npv_derivative
```

## ✨ المميزات الخاصة

1. **تحديث تلقائي**: النتائج تتحدث عند تغيير أي مدخل
2. **مزلاج تفاعلي**: لتجربة قيم إيجار مختلفة
3. **أرقام عربية**: تحويل تلقائي لجميع الأرقام
4. **جدول شامل**: عرض 20 سنة من التدفقات النقدية
5. **تصميم احترافي**: مظهر أنيق ومنظم

---

## 🚀 **جاهز للاستخدام!**

الملفات الثلاثة تعمل بشكل مستقل ومتكامل:
- **HTML + JS** للاستخدام التفاعلي
- **Python** للتحليل المتقدم والتصدير

